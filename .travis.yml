# https://docs.travis-ci.com/user/job-lifecycle/

language: node_js
node_js: 10.15.3
env:
  global:
    - AWS_ACCESS_KEY_ID=AKIAZLVOUXM6HAHWSANH
    - secure: "ArftoCPDKIA7CDM6SnX9JClCfiWVuBQ8/EkSwJB5clp9Gl7vSs3kjwhiNpLR2gCMsiIZQRqa605p2FudPr0ZiEsJB/C5ZtNQ1Q/dVI1SOIN7RSKIQ7UEVzPSyOdLZ3elawL5MVYsqLn/I9prnYf8gVOFqCtfNIDW4H7UgYpAtESV0yrfQPpVOVh2KUuMqukMe4smRwxGq4unn1BabhnaRsoXA2ITmRG9QCRcsGvLljnOjluhEq/VUojRGNHrGhauotcTdjCh/a/kTL89T/rpN4K1a7uE9YmOseBBxetmU8yo3JdNS+aKMpPXW2UYA9ZryUnPHjhX9szBXQU8gjDzGdy2GOA/K78f/nJTm20BusLVGDgZxHA/4JkLdDmw92xL6CQep5L4pM2csiaIuquCqFMvApwiYcDwgHzMU+81AaoMrr0yH9Yqy6SaiBVv5DvGOh23UFFNkCBZ30T/x2hbJzGWiEyfJmAxMaPXP2+Qfc45LGPFC0n0l1Al2B4bvaSims0q2rw9FrOiO5IzO2S3Z2M8tf1imgMCzyu4yymBI6haXgCBRQc84fUl7mnd1aSRlBZjpH/sPOM5Cw5chfCZA9Qg2Xoh4XzzjT6GOitNAhyBrI6QGbSjJkIchbqs5lqkcoiPQu1+SQxzaLic11gRRXNtFlcoT/HAqhAZAOegKNo="
    - AWS_DEFAULT_REGION=us-east-1
    - CYPRESS_RECORD_KEY=4be3dc17-34bf-44aa-bcea-c0a869a8d7a4
    - TF_CLI_CONFIG_FILE=/home/travis/.terraformrc
    - TF_IN_AUTOMATION=true
    - secure: "kFq6rd8vPr0qIujLcZEqSRlACaH4IDcU1Z0ebf1WwISulZBO5Vgh9kZOCc4QmggbMuAKAvTx3W5BAxYu6JDVVRW/awDHJ6RVfJ909xh2vKN+e/44TRD/u9ZpYnu/32sOhnRYEiZH3BbdBOBi5L03D37Mr4eK6U8KZuusX0Z9+oqYDwA8ldmaw69CCALhpE7BjlQOFBir7mrnV0TaM0QJnW88TLYEHQslyGi8lDqJ3UX8vKqToOHKsfks01UUGTT/4ShcMjLvXXhTAbruMmo9BrpkpRSRyqqFHSkuMEH3grns4WK3pYjrXJ+NgTG/9lUiEIaFcIHBviPd68I43iPndMk/d3NUPf9iR2SbEYhRM2O6dE2l/IK+bEIEie0RUfNGIXwMEqp3L3rUE9o9PzKBWEXnDiI1oIUnl5JqbSY0XD2ibfpbvuvQs409CXn3+5cAkP4PQOeUbGMjRoE0/ONvlpYlIHfGD6BEyRpZEENxbF+TS5ARw0oWT2LzfB44tdtxVj6av1GydSM1yfOPREALDtFs4EpU/ickVYGBh0U5cAOMpdj2qtSeGM8IH6YvGd1blwwyLtoBowZLnn+GfHmw1ff5gGpdXxo7gvd6sHb8jkVgB0t7T3KibLqh/8Yntxpstdr4e7btUapUltTQ6W3WDA3zAPqAZJKRMbSmThGaA78="

addons:
  apt:
    packages:
      - libgconf-2-4

cache:
  npm: true
  directories:
    - ~/.cache

install: travis/install.sh

jobs:
  fail_fast: true
  include:
    - env: TF_WORKSPACE=env1-qa-moonlight-health
      secure: "aPyFXmIjuVlAg8bKyOCdiaMR1itdwZE1Ta4cPdYvmOPiVzzZEBRaF5k5o2MTy+TnuacYE8U7ZDnOwz/v0aBRCQzX8ysVChjUns4Auzjnerd9pt8zQU1FOvn2hlKu62gJxz9Z4TU2K/U0+kNWUf2y6QurZymTF5fiH5G5ClvGKxxJfblT4QDhMZDPaCgjJ0eexBmPNMxqsetGrJp+iLdj7+ICfjpO9ucnaeA/wNKZU+w80us0iiXDBo+YW22hi+rnssND4vXazCf5ZSnEA0k3z14Z3rg9jgBkIfdmnuzs4ZGdJAAFw+cErR9MplQWhqHrX37Ffvj2UKAVaNAcnszWQ0pWcQ1qgpfEkkOB2yw7lx+w+9CdZhNyCgXgwRSf6RJRB1JXkxE1yVaoaTBPvLHPshmlThz0w07FjXt4bSot94pjr2/3cW1aE1rKoEXtmqtpntAEoaghsrpzb/Xts/cbw/HgDO/Ji6rKl+wPLNdstNBzR6aCf0pHafDd+noGRaiqE/4veLVet4WDUjl8LQ2Zl1FitW+41JRu5QlRKCV36XY/wCnG/TlDk71jQhdlCjciuxq6nTHN6bBaBPOik3+dzSFyFDxWJrT1qcgVQIc7uOl1NVQYXBPTC/MVG5QZS3PWYWF6q5uosrvEJpXWpSUezg+bQptHBufjfRpmH+5BGQk="
      script: travis/script-branch.sh
      if: branch != master
    - secure: "umm0n8AnJxchwtpWXJlyccFHaW9EeedHFoimlHymKRB1/NvCVJMIoF82W18F340xPM/1RPvvl098+3rKduAodYpks5YKnN8ySq1BIHOYCbA99lMcmyfjPtszxYFdzyAeRgfwPOOqTNubEWMnPSrkrvqIqLUXFhNjWvkDKQXgwI5viAz4kX4FIjISJDCZYtqrAGGeS6szxOM4w44k0fBMwVFhQBQ1ogv4xvHQ2Y99bBAFVponDJNZ4MjfvqBYUgjl/Lbz9Bb78cYaG4bMzQwnmdNaIF+cvgpIKrSIYyQog3hzHOcZoBFaCBGhPFMjriGsMoSEc4/pMoT9v9P11eT9Nagdndbia9+2ikXD+RqGRdtIp6bxmFWEb18TZdedkRdSRLRB0VzzyHv0wTrhy5JcVeqLnCIw3Tz4Vc995Hj7D9a6HOyiyBa8ux6dE7RTLUsKC9HJmxe+9/qKo8043Oilu/OH/uwYho4ElqKQHugzM8I/xkN7JE/1daZtjvDLPkP+tt4k2oXtrw9IaZoUj/znV/iKBkjDxTTC8yAdGrjY+HQ3VBD8+RU9Kry2maEeFGUPR4oUFaNt0wz/m3P/THo5656TRIld/jeEh2ggBe7KqbQjUbWWClh7QDooeFl+VgXjHfkZvMtzq8UW6pkTBpAOfhUmXcodcPqKGjE94m5AyV4="
      script: travis/script-master.sh
      if: branch = master
