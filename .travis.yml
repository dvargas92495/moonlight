# https://docs.travis-ci.com/user/job-lifecycle/

language: node_js
node_js: 10.15.3
env:
  global:
    - AWS_ACCESS_KEY_ID=AKIAZLVOUXM6HAHWSANH
    - secure: "ArftoCPDKIA7CDM6SnX9JClCfiWVuBQ8/EkSwJB5clp9Gl7vSs3kjwhiNpLR2gCMsiIZQRqa605p2FudPr0ZiEsJB/C5ZtNQ1Q/dVI1SOIN7RSKIQ7UEVzPSyOdLZ3elawL5MVYsqLn/I9prnYf8gVOFqCtfNIDW4H7UgYpAtESV0yrfQPpVOVh2KUuMqukMe4smRwxGq4unn1BabhnaRsoXA2ITmRG9QCRcsGvLljnOjluhEq/VUojRGNHrGhauotcTdjCh/a/kTL89T/rpN4K1a7uE9YmOseBBxetmU8yo3JdNS+aKMpPXW2UYA9ZryUnPHjhX9szBXQU8gjDzGdy2GOA/K78f/nJTm20BusLVGDgZxHA/4JkLdDmw92xL6CQep5L4pM2csiaIuquCqFMvApwiYcDwgHzMU+81AaoMrr0yH9Yqy6SaiBVv5DvGOh23UFFNkCBZ30T/x2hbJzGWiEyfJmAxMaPXP2+Qfc45LGPFC0n0l1Al2B4bvaSims0q2rw9FrOiO5IzO2S3Z2M8tf1imgMCzyu4yymBI6haXgCBRQc84fUl7mnd1aSRlBZjpH/sPOM5Cw5chfCZA9Qg2Xoh4XzzjT6GOitNAhyBrI6QGbSjJkIchbqs5lqkcoiPQu1+SQxzaLic11gRRXNtFlcoT/HAqhAZAOegKNo="
    - AWS_DEFAULT_REGION=us-east-1
    - secure: "fRBYmhxKNIhDXxoDeRWvHiXhWaLRXA9KuuPIKnWGoLgfMW0B6umUqTGwcH4N1IuEj4G/67xZpLkcHlw3Ae6n1mWPc7LRuqRyQjNKk5m/RXC/QO6Mk5kkYwZ6coWJGA4nkkBIZLwznxNMY5J4CBsHNEHEzjgi/PHnjT4lD7A1u8lEA7L/q7mJmAnP9R8zJrs7R57H3SqtknvkAmRqKNq9m2r3E158rn4+LJqkPeyxWU8un9fcV6J9zJMNAQ7j9KP2yP2QWGmZVvT5qi4XflTcNNYHGGTuzc/RLlQ1Dic/PRmWZZfdqEOZcQWpVI0yS0Nc/oXR205WKUDX63Er3BP/Oai3nYwtxyVtxTRvS1ydrRCvjY+U2bBc2c0GKtvypDfMqTrlCOEi3C7b2E8K17dcaW44K7cjF/KhIte1zzF6ZsCdlEb+X2KQKYWh2VlEN+0F2NumV1FFfyQkzj4pSsXvCAfSKEbfT5TPRh9n4fWypzmKX1AD3lpZwrFIxa/lphdTtSUlxuzXPVOYQuOSyNn2VfbTbBFi6quSxqM1BsFXZuwDXDZn5cOSAkqqveQO4g+Z6FYsSdY3Q/kLQYsAHbF3JU9/9sPkFxfrBr0+MmcS/1TCNqh8wvGcBdp8tDuFzjBbu1KJAUy9l5LicSmKQQ4lXB3WOmU/g6q9odOfoRpb9fg="
    - CYPRESS_RECORD_KEY=4be3dc17-34bf-44aa-bcea-c0a869a8d7a4

addons:
  apt:
    packages:
      - libgconf-2-4

cache:
  npm: true
  directories:
    - ~/.cache

install: travis/install.sh

jobs:
  include:
    - script: travis/script-branch.sh
      after_script: travis/after_script-branch.sh
      if: branch != master
    - script: travis/script-master.sh
      if: branch = master
